plugins {
    id 'groovy'
    id 'java'
}

// It seems you can replace the plugins section above with
//
// apply plugin: 'groovy'
//
// and it works just the same, but I've no idea what the difference between the two is

group 'com.example'
version '1.0-SNAPSHOT'

sourceCompatibility = 1.8

sourceSets {
    main {
        java { srcDirs = [] }
        groovy { srcDirs += ['src/main/java'] }
    }
}

repositories {
    mavenCentral()
}

dependencies {
    compile "org.codehaus.groovy:groovy-all:2.5.7"
    testCompile "org.spockframework:spock-core:1.3-groovy-2.5"
}
